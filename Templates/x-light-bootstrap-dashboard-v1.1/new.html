<!DOCTYPE html>
<html>
<head>
	<title>DishSelect</title>
	<meta charset="utf-8" />
	<link rel="icon" type="image/png" href="assets/img/favicon.ico">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Light Bootstrap Dashboard by Creative Tim</title>
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
	<meta name="viewport" content="width=device-width" />
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
	<!-- Bootstrap core CSS     -->
	<link href="assets/css/bootstrap.min.css" rel="stylesheet" />
	<link href="assets/css/new.css" rel="stylesheet" />

	<!-- Animation library for notifications   -->
	<link href="assets/css/animate.min.css" rel="stylesheet"/>

	<!--  Light Bootstrap Table core CSS    -->
	<link href="assets/css/light-bootstrap-dashboard.css" rel="stylesheet"/>


	<!--  CSS for Demo Purpose, don't include it in your project     -->
	<link href="assets/css/demo.css" rel="stylesheet" />


	<!--     Fonts and icons     -->
	<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet' type='text/css'>
	<link href="assets/css/pe-icon-7-stroke.css" rel="stylesheet" />
	<style  type="text/css">

		body, p, div, tr, td{
			font-family: 'Montserrat';
		}

	</style>
</head>
<body>
	<div class="wrapper">
		<div class="navbar navbar-inverse">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">Grocery 2.0</a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav navbar-left">
					<li>
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							See Previous Orders
						</a>
					</li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li>
						<a href="#">Hello Username</a>
					</li>
				</ul>
			</div>
		</div>
		<div class="container">

			<!-- Main row dividing right and left part into columns -->
			<div class="row">

				<!-- The left column of dishes starts here -->
				<div class="col-md-4" style="border-right: 1px solid grey">
					<div class="card panel panel-default box-shadow--8dp" id="selectedDishes">
						<table class="table table-hover table-striped  table-fixed" >
							<thead>
								<tr>
									<th>
										<b>Selected/Suggested Dishes</b>
									</th>
									<th>
										<b>Servings</b>
									</th>
									<th>
										<b>Remove Dish</b>
									</th>
								</tr>
							</thead>
							<tbody>
								
							</tbody>
						</table>
					</div>
					<div class="card panel panel-default box-shadow--8dp" id="availableDishes">
						<table class="table table-hover table-striped">
							<thead>
								<tr>
									<th>
										<b>Available Dishes</b>
									</th>
								</tr>
							</thead>
							<tbody>

							</tbody>
						</table>
					</div>
				</div>
				<!-- The left column containing dishes ends here -->


				<!-- Right side column containing vegetables, grocery and spices -->
				<div class="col-md-8">

					<!-- Vegetables Part start here -->
					<div class="">
						<h3 class="headingColor"><b>Vegetables</b></h3>
					</div>
					<div class="card panel panel-default box-shadow--8dp" id="vegetablesTable">
						<table class="table table-bordered" >
							<thead>
								<tr>
									<th width="15%">
										<b>Keep</b>
									</th>
									<th width="55%">
										<b>Item</b>
									</th>
									<th>
										<b>Quantity</b>
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									
								</tr>
							</tbody>
						</table>
					</div>
					<!-- Vegetables part end here -->


					<!-- Grocery Part starts here -->
					<div class="">
						<h3 class="headingColor"><b>Grocery</b> (remove items already in pantry)</h3>
					</div>
					<div class="card panel panel-default box-shadow--8dp" id="groceryTable">
						<table class="table table-bordered" >
							<thead>
								<tr>
									<th width="15%">
										<b>Keep</b>
									</th>
									<th width="55%">
										<b>Item</b>
									</th>
									<th>
										<b>Quantity</b>
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									
								</tr>
							</tbody>
						</table>
					</div>
					<!-- Grocery part ends here -->


					<!-- Spices part starts here -->
					<div class="">
						<h3 class="headingColor"><b>Spices</b> (remove items already in pantry)</h3>
					</div>
					<div class="card panel panel-default box-shadow--8dp" id="spicesTable">
						<table class="table table-bordered" >
							<thead>
								<tr>
									<th width="25%">
										<b>Keep</b>
									</th>
									<th>
										<b>Item</b>
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td class="td-actions  removeButton">
										<button data-original-title="" type="button" rel="tooltip" class="btn btn-success btn-simple btn-xs">
											<i class="fa fa-minus"></i>
										</button>
									</td>
									<td>
										Kaali Mirch
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<!-- Spices part ends here -->

				</div>
				<!-- Right column ends here -->

			</div>
		</div>
	</div>
</body>
<!--   Core JS Files   -->
<script src="assets/js/jquery-1.10.2.js" type="text/javascript"></script>
<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>

<!--  Checkbox, Radio & Switch Plugins -->
<script src="assets/js/bootstrap-checkbox-radio-switch.js"></script>

<!--  Charts Plugin -->
<script src="assets/js/chartist.min.js"></script>

<!--  Notifications Plugin    -->
<script src="assets/js/bootstrap-notify.js"></script>

<!--  Google Maps Plugin    -->
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>

<!-- Light Bootstrap Table Core javascript and methods for Demo purpose -->
<script src="assets/js/light-bootstrap-dashboard.js"></script>
<script type="text/javascript" src="http://www.parsecdn.com/js/parse-latest.js"></script>

<!-- Light Bootstrap Table DEMO methods, don't include it in your project! -->
<script src="assets/js/demo.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/processing.js"></script>

<script type="text/javascript">
	
	var removeText = '<td class="td-actions text-right removeButton">' + '\n' + '<button data-original-title="Remove" type="button" rel="tooltip" class="btn btn-danger btn-simple btn-xs">' + '\n' + '<i class="fa fa-times"></i>' + '\n' + '</button>' + '\n' + '</td>';
	
	var addText = '<td class="td-actions text-right addDishesButton">' + '\n' + '<button data-original-title="" type="button" rel="tooltip" class="btn btn-primary btn-simple btn-xs">' + '\n' + '<i class="fa fa-plus"></i>' + '\n' + '</button>' + '\n' + '</td>';
	
	var vegetablesItems = {};
	var groceryItems = {};
	var spicesItems = {};
	var selectedItems = {};

	startFunction(function(){
		console.log(JSON.stringify(_allDishes));
		var selectedDishes = document.getElementById('selectedDishes');
		var tbodyElement = selectedDishes.getElementsByTagName('tbody')[0];
		var trElement = tbodyElement.getElementsByTagName('tr');

		for (var i = 0; i < trElement.length; i++) {
			trElement[i].innerHTML += removeText;
		}

		var availableDishes = document.getElementById('availableDishes');
		var tbodyElement = availableDishes.getElementsByTagName('tbody')[0];
		var trElement = tbodyElement.getElementsByTagName('tr');

		for (var i = 0; i < trElement.length; i++) {
			trElement[i].innerHTML += addText;
		}

		$(document).on('click', '.addDishesButton',function(e){
			text = $(this).parents('tr:first').text().trim();
			if(selectedItems[text] != undefined){
				$("#selectedDishes table tr td:nth-child(1)").each(function (i) {
					var item = $(this).html().trim();
					if (item == text){
						console.log("Duplicate");
						var $node = $(this).parent().children('td:nth-child(2)');
						var currentVal = parseInt($node.html().trim());
						$node.html(currentVal+1);
						console.log($node.html())
						return ;
					}
				});
			}
			else{
				$('#selectedDishes tr:last').after('<tr>\n<td>' + text +  '</td>\n<td>1</td>\n' + removeText + '</tr>');
				selectedItems[text] = true;
			}
			addMyDish(text);
			notifySend('Added Successfully', 'info');
		});

	});

$(document).on('click', '.removeButton', function(e){
	var $killrow = $(this).closest('tr');
	removeFromArray($killrow);
	$killrow.fadeOut(200, function(){
		$(this).remove();
	});
	notifySend('Removed Successfully', 'danger');
});

$(document).on('click', '.editButton', function(e){
	var editedVal = prompt("Enter new value");
	$(this).parent().find('.amount').html(editedVal);
});


</script>
</html>
